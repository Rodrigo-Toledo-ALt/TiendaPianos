<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Gesti√≥n de Usuarios</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-refresher slot="fixed" (ionRefresh)="cargarUsuarios()">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ng-container *ngIf="cargando">
    <ion-skeleton-text animated style="width: 100%; height: 60px;"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 100%; height: 60px; margin-top: 10px;"></ion-skeleton-text>
    <ion-skeleton-text animated style="width: 100%; height: 60px; margin-top: 10px;"></ion-skeleton-text>
  </ng-container>

  <ion-alert
    *ngIf="error"
    [isOpen]="!!error"
    header="Error"
    [message]="error"
    [buttons]="['OK']">
  </ion-alert>

  <ion-list *ngIf="!cargando">
    <ion-item-sliding *ngFor="let usuario of usuarios">
      <ion-item>
        <ion-label>
          <h2>{{ usuario.nombre }}</h2>
          <p>{{ usuario.email }}</p>
          <p>Rol: {{ usuario.rol }}</p>
          <p>Fecha de registro: {{ usuario.fechaRegistro | date:'dd/MM/yyyy' }}</p>
        </ion-label>
      </ion-item>
      <ion-item-options side="end">
        <ion-item-option color="primary">
          <ion-icon slot="icon-only" name="eye"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <div class="ion-text-center" *ngIf="usuarios.length === 0 && !cargando">
    <ion-text color="medium">
      <p>No se encontraron usuarios</p>
    </ion-text>
  </div>
</ion-content>